{"version":3,"sources":["components/ProtectedRoute.js","contexts/CurrentUserContext.js","utils/api.js","images/logo-white.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","hooks/useEscapeClose.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/Register.js","components/Login.js","components/InfoTooltip.js","images/ok.png","images/err.png","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","CurrentUserContext","React","createContext","api","baseUrl","headers","this","_baseUrl","_userUrl","_cardsUrl","_likesUrl","_token","fetch","authorization","then","res","ok","json","Promise","reject","status","name","about","method","body","JSON","stringify","src","avatar","link","cardId","isNotLiked","Header","email","onSignOut","useState","isClicked","setIsClicked","handleClickMenu","className","logo","alt","path","exact","onClick","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","type","aria-label","onCardDelete","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","item","onDeletePlace","Footer","useEscapeClose","isOpen","onClose","useEffect","handleEscapeClose","event","key","document","addEventListener","removeEventListener","ImagePopup","onOverlayClose","element","PopupWithForm","title","btnName","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","isRender","setName","description","setDescription","e","preventDefault","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","DeletePlacePopup","deleteCard","onDeleteCard","Register","onRegister","setEmail","password","setPassword","Login","onLogin","InfoTooltip","result","successful","BASE_URL","App","history","useHistory","setCurrentUser","isEditProfilePopupOpen","setEditProfileClick","isAddPlacePopupOpen","setAddPlaceClick","isEditAvatarPopupOpen","setEditAvatarClick","isInfoTooltip","setInfoTooltip","setCards","selectedCard","setSelectedCard","selectedCardDeleteConfirm","setSelectedCardDeleteConfirm","renderSaving","setRenderSaving","setLoggedIn","handleLoggedIn","handleInfoTooltip","closeAllPopups","handleOverlayClickClose","evt","classList","contains","getInitialCards","data","catch","err","console","log","getUserData","token","localStorage","getItem","auth","push","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","setItem","newUserData","saveUserChanges","finally","newAvatarLink","changedAvatar","cardData","postNewCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.95828347.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","// --- КЛАСС ДЛЯ ОТПРАВКИ ЗАПРОСОВ НА СЕРВЕР ---\n\nclass Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._userUrl = `${this._baseUrl}/users/me`;\n    this._cardsUrl = `${this._baseUrl}/cards`;\n    this._likesUrl = `${this._baseUrl}/cards/likes`;\n    this._token = headers['authorization'];\n  }\n\n  //метод получения информации о пользователе с сервера\n  getUserData() {\n    return fetch(this._userUrl, {\n        headers: {\n          authorization: this._token,\n        }\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  //метод сохранения отредактированных данных пользователя на сервере\n  saveUserChanges({\n    name,\n    about\n  }) {\n    return fetch(this._userUrl, {\n        method: 'PATCH',\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: name,\n          about: about,\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  //метод обновления аватара пользователя\n  changedAvatar(src) {\n    return fetch(`${this._userUrl}/avatar`, {\n        method: 'PATCH',\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          avatar: src,\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  //метод получения карточек с сервера\n  getInitialCards() {\n    return fetch(this._cardsUrl, {\n        headers: {\n          authorization: this._token,\n        }\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  //метод добавления новой карточки на сервер\n  postNewCard({\n    name,\n    link\n  }) {\n    return fetch(this._cardsUrl, {\n        method: 'POST',\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: name,\n          link: link,\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  //метод удаления карточки пользователя с сервера\n  deleteCard(cardId) {\n    return fetch(`${this._cardsUrl}/${cardId}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token,\n        }\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  //метод постановки/удаления лайка на карточке\n  changeLikeCardStatus(cardId, isNotLiked){\n      return fetch(`${this._likesUrl}/${cardId}`, {\n        method: isNotLiked ? \"PUT\" : \"DELETE\",\n        headers: {\n          authorization: this._token,\n        }\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n}\n\n\n//создаем экземпляр класса Api\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\n  headers: {\n    authorization: '249de57f-61eb-4f88-a95a-b462a0c3429a',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","export default __webpack_public_path__ + \"static/media/logo-white.ff16f24b.svg\";","import logo from '../images/logo-white.svg';\r\nimport React, { useState } from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\n\r\n//--- Компонент шапки сайта ---\r\nfunction Header({ email, onSignOut }) {\r\n  const [isClicked, setIsClicked] = useState(false);\r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  function handleClickMenu() {\r\n    setIsClicked(!isClicked)\r\n  }\r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <header className=\"header page__center\">\r\n      <div className={`header__box ${isClicked ? 'header__box_small-menu' : ''}`}>\r\n        <img className={`logo ${isClicked ? 'logo_small-menu' : ''}`} src={logo} alt=\"Логотип Место\" />\r\n        <Route path=\"/sign-in\">\r\n          <Link to='sign-up' className='header__link'>Регистрация</Link>\r\n        </Route>\r\n        <Route path=\"/sign-up\">\r\n          <Link to='sign-in' className='header__link'>Войти</Link>\r\n        </Route>\r\n        <Route exact path=\"/\">\r\n          <div className={`header__menu-btn ${isClicked ? 'header__menu-btn_close' : ''}`} onClick={handleClickMenu}>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n            <div className={`header__user-box ${isClicked ? 'header__user-box_small-menu' : ''}`}>\r\n              <p className='header__email'>{email}</p>\r\n              <button\r\n                onClick={() => {\r\n                  onSignOut();\r\n                  handleClickMenu();\r\n                }}\r\n                className='header__link header__button'>Выйти</button>\r\n            </div>\r\n        </Route>\r\n      </div>     \r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n//--- Компонент карточки с фото ---\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__trash ${isOwn ? 'element__trash_visible' : 'element__trash_hidden'}`\r\n  ); \r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__like ${isLiked ? 'element__like_active' : ''}`\r\n  );\r\n\r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  //обработчик клика по карточке\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  //обработчик клика по кнопке лайка\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  // обработчик клика по кнопке удаления\r\n  function handleTrashClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  \r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <article className=\"element\">\r\n      <img  className=\"element__pic\" src={props.card.link} alt={`Фото ${props.card.name}`} onClick={handleClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить карточку\" onClick={handleTrashClick} />\r\n      <div className=\"element__desc\">\r\n        <h2 className=\"element__title\">{props.card.name}</h2>\r\n        <div className=\"element__like-group\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Лайкнуть\" onClick={handleLikeClick}/>\r\n          <p className=\"element__sum-like\">{props.card.likes.length}</p>\r\n        </div>\r\n       </div>\r\n    </article>\r\n  )\r\n}\r\n    \r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n//--- Компонент основного контента страницы ---\r\nfunction Main(props) { \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"profile page__center\">\r\n        <div className=\"profile__content\">\r\n          <div className=\"profile__pic\">\r\n            <img src={currentUser.avatar} alt=\"Аватар пользователя\" className=\"profile__avatar\" />\r\n            <button className=\"profile__change-btn\" type=\"button\" aria-label=\"Изменить аватар пользователя\" onClick={props.onEditAvatar} />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__row\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button className=\"profile__edit-btn\" type=\"button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile} />\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-btn\" type=\"button\" aria-label=\"Добавить фото\" onClick={props.onAddPlace} />\r\n      </section>\r\n        \r\n      <section className=\"elements page__center\" aria-label=\"Фотографии\">\r\n        {props.cards.map((item) => (\r\n          <Card\r\n            key={item['_id']}\r\n            card={item}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onDeletePlace} />)\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n  ","\r\n//--- Компонент подвала сайта ---\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__center\">\r\n      <p className=\"footer__content\"> &copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n  \r\nexport default Footer;\r\n  ","import React from 'react';\r\n\r\n//---ЗАКРЫТИЕ ПО ESC---\r\nfunction useEscapeClose (isOpen, onClose) {\r\n  React.useEffect(() => {\r\n    if (!isOpen) return;\r\n    const handleEscapeClose = (event) => {\r\n      if (event.key === 'Escape') onClose();\r\n    };\r\n    \r\n    document.addEventListener(\"keydown\", handleEscapeClose);\r\n    return () => document.removeEventListener(\"keydown\", handleEscapeClose);\r\n  }, [isOpen, onClose]);\r\n}\r\n\r\nexport default useEscapeClose;\r\n\r\n ","import React from 'react';\r\nimport useEscapeClose from '../hooks/useEscapeClose.js';\r\n\r\n//--- Компонент попапа с картинкой ---\r\nfunction ImagePopup({ onClose, onOverlayClose, card:{ isOpen, element:{name, link} } }) {\r\n\r\n  //---Закрытие по Esc ---\r\n  useEscapeClose(isOpen, onClose);\r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <section className={`popup popup_type_image ${isOpen ? 'popup_opened' : false}`} onClick={onOverlayClose}>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <img className=\"popup__photo\" src={link} alt={`Фото ${name}`} />\r\n        <h2 className=\"popup__photo-title\">{name}</h2>\r\n        <button onClick={onClose} className=\"popup__close\" type=\"button\" aria-label=\"Закрыть окно\" />\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n    \r\nexport default ImagePopup;\r\n    ","import React from 'react';\r\nimport useEscapeClose from '../hooks/useEscapeClose.js';\r\n\r\n//--- Компонент попапов ---\r\nfunction PopupWithForm({ name, title, btnName, isOpen, onClose, children, onSubmit, onOverlayClose }) {\r\n  \r\n  //---Закрытие по Esc ---\r\n  useEscapeClose(isOpen, onClose);\r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <section className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : false}`} onClick={onOverlayClose}>\r\n      <div className={`popup__container popup__container_type_${name}`}>\r\n        <h3 className={`popup__title popup__title_type_${name}`}>{title}</h3>\r\n        <form className=\"popup__form\" name={`popup-form-${name}`} noValidate onSubmit={onSubmit}>\r\n          <>{children}</>\r\n          <button className={`popup__submit-btn popup__submit-btn_type_${name}`} type=\"submit\">{btnName}</button>\r\n        </form>\r\n        <button onClick={onClose} className=\"popup__close\" type=\"button\" aria-label=\"Закрыть окно\"></button>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n  \r\nexport default PopupWithForm;\r\n  \r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n//--- Компонент попапа изменения профиля ---\r\nfunction EditProfilePopup({ isOpen, onClose, onOverlayClose, onUpdateUser, isRender}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  //---ЭФФЕКТЫ---\r\n  //получаем текущие значения для установки в поля попапа\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <PopupWithForm \r\n      title='Редактировать профиль'\r\n      name='edit' isOpen={isOpen}\r\n      btnName={isRender ? 'Сохранение...' : 'Сохранить'}\r\n      onClose={onClose}\r\n      onOverlayClose={onOverlayClose}\r\n      onSubmit={handleSubmit}>\r\n        <input value={name || ''} onChange={handleChangeName} id=\"name-input\" type=\"text\" placeholder=\"Имя\" className=\"popup__input popup__input_text_name\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\r\n        <span id=\"name-input-error\" className=\"popup__input-error\"></span>\r\n        <input value={description || ''} onChange={handleChangeDescription} id=\"job-input\" type=\"text\" placeholder=\"О себе\" className=\"popup__input popup__input_text_job\" name=\"about\" minLength=\"2\" maxLength=\"200\" required />\r\n        <span id=\"job-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n    \r\nexport default EditProfilePopup;\r\n    ","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\n//--- Компонент попапа изменения профиля ---\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isRender, onOverlayClose }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  //---ЭФФЕКТЫ---\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = '';\r\n  }, [isOpen]); \r\n  \r\n  return (\r\n    <PopupWithForm\r\n    title='Обновить аватар'\r\n    name='change-avatar'\r\n    isOpen={isOpen}\r\n    btnName={isRender ? 'Сохранение...' : 'Сохранить'}\r\n    onClose={onClose}\r\n    onOverlayClose={onOverlayClose}\r\n    onSubmit={handleSubmit}>\r\n      <input ref={avatarRef} id=\"change-avatar-input\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_change-avatar_link\" name=\"link\" required />\r\n      <span id=\"change-avatar-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n    \r\nexport default EditAvatarPopup;\r\n    ","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\n//--- Компонент попапа добавления карточки ---\r\nfunction AddPlacePopup({ isOpen, onClose, onOverlayClose, onAddPlace, isRender}) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  \r\n  //---ОБРАБОТЧИКИ---\r\n  function handleAddName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleAddLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name, link });\r\n  }\r\n\r\n  //---ЭФФЕКТЫ---\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]); \r\n  \r\n  \r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <PopupWithForm\r\n      title='Новое место'\r\n      name='add-card'\r\n      isOpen={isOpen}\r\n      btnName={isRender ? 'Сохранение...' :'Создать'}\r\n      onClose={onClose}\r\n      onOverlayClose={onOverlayClose}\r\n      onSubmit={handleSubmit}>\r\n        <input value={name} onChange={handleAddName} id=\"card-name-input\" type=\"text\" placeholder=\"Название\" className=\"popup__input popup__input_add-card_name\" name=\"name\" minLength=\"2\" maxLength=\"30\" required />\r\n        <span id=\"card-name-input-error\" className=\"popup__input-error\"></span>\r\n        <input value={link} onChange={handleAddLink} id=\"card-link-input\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_add-card_link\" name=\"link\" required />\r\n        <span id=\"card-link-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n      \r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\n//--- Компонент попапа добавления карточки ---\r\nfunction DeletePlacePopup({ deleteCard:{ isOpen, card }, onClose, onOverlayClose, onDeleteCard, isRender }) {\r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(card);\r\n  } \r\n  \r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <PopupWithForm\r\n    title='Вы уверены?'\r\n    name='confirm'\r\n    btnName={isRender ? 'Удаление...' : 'Да'}\r\n    isOpen={isOpen}\r\n    onClose={onClose}\r\n    onOverlayClose={onOverlayClose}\r\n    onSubmit={handleSubmit}>\r\n    </PopupWithForm>   \r\n  )\r\n}\r\n\r\nexport default DeletePlacePopup;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//--- Компонент регистрации пользователя ---\r\nfunction Register({ onRegister }) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  \r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegister(password, email);\r\n  }\r\n  \r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <section className='entrance page__center' >\r\n      <div className='entrance__container'>\r\n        <h3 className='entrance__title'>Регистрация</h3>\r\n        <form className='entrance__form' name='entrance-form-register' noValidate onSubmit={handleSubmit}>\r\n          <input\r\n            value={email}\r\n            onChange={handleChangeEmail}\r\n            id='loggin-input'\r\n            type='email'\r\n            placeholder='Email'\r\n            className='entrance__input'\r\n            name='loggin'\r\n            minLength='2'\r\n            maxLength='40'\r\n            required\r\n          />\r\n\r\n          <input\r\n            value={password}\r\n            onChange={handleChangePassword}\r\n            id=\"password-input\"\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            className=\"entrance__input\"\r\n            name=\"password\"\r\n            minLength=\"4\"\r\n            maxLength=\"10\"\r\n            required\r\n          />\r\n\r\n          <button className='entrance__submit-btn' type=\"submit\">Зарегистрироваться</button>\r\n          <Link to='sign-in' className='entrance__link'>Уже зарегестрированы? Войти</Link>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n      \r\nexport default Register;","import React from 'react';\r\n\r\n//--- Компонент авторизации пользователя ---\r\nfunction Login({ onLogin }) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  \r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password){\r\n      return;\r\n    }\r\n    onLogin(password, email);\r\n  }\r\n\r\n  //---ЭФФЕКТЫ---\r\n  // React.useEffect(() => {\r\n  //   setEmail('');\r\n  //   setPassword('');\r\n  // }, [onLogin]); \r\n    \r\n  \r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <section className='entrance page__center' >\r\n      <div className='entrance__container'>\r\n        <h3 className='entrance__title'>Вход</h3>\r\n        <form className='entrance__form' name='entrance-form-login' noValidate onSubmit={handleSubmit}>\r\n          <input\r\n            value={email}\r\n            onChange={handleChangeEmail}\r\n            id=\"loggin-input\"\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"entrance__input\"\r\n            name=\"loggin\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            required\r\n          />\r\n\r\n          <input\r\n            value={password}\r\n            onChange={handleChangePassword}\r\n            id=\"password-input\"\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            className=\"entrance__input\"\r\n            name=\"password\"\r\n            minLength=\"4\"\r\n            maxLength=\"10\"\r\n            required\r\n          />\r\n\r\n          <button className='entrance__submit-btn' type=\"submit\">Войти</button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  )\r\n\r\n}\r\n      \r\nexport default Login;","import React from 'react';\r\nimport useEscapeClose from '../hooks/useEscapeClose.js';\r\nimport ok from '../images/ok.png';\r\nimport err from '../images/err.png';\r\n\r\n//--- Компонент всплывающих подсказок ---\r\nfunction InfoTooltip({ onClose, onOverlayClose, result: { isOpen, successful } }) {\r\n\r\n  //---Закрытие по Esc ---\r\n  useEscapeClose(isOpen, onClose);\r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <section className={`popup popup_type_info ${isOpen ? 'popup_opened' : false}`} onClick={onOverlayClose}>\r\n      <div className=\"popup__container popup__container_type_info\">\r\n        <img className=\"popup__photo popup__photo_type_info\" src={successful ? ok : err} alt='Значок результата операции' />\r\n        <h2 className={`popup__title popup__title_type_info`}>{successful ? 'Вы успешно зарегестрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</h2>\r\n        <button onClick={onClose} className=\"popup__close\" type=\"button\" aria-label=\"Закрыть окно\" />\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n    \r\nexport default InfoTooltip;\r\n    ","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (password, email) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        password,\r\n        email,\r\n      })\r\n    })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    })\r\n}; \r\n\r\nexport const login = (password, email) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        password,\r\n        email,\r\n      })\r\n    })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    })\r\n}\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n} ","import React from 'react';\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from \"./ProtectedRoute.js\";\r\n\r\n\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport api from '../utils/api.js';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport DeletePlacePopup from './DeletePlacePopup.js';\r\nimport Register from './Register.js';\r\nimport Login from './Login.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\n\r\nimport * as auth from '../utils/auth.js';\r\n\r\n\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  // состояния попапов\r\n  const [isEditProfilePopupOpen, setEditProfileClick] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlaceClick] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarClick] = React.useState(false);\r\n  const [isInfoTooltip, setInfoTooltip] = React.useState({isOpen: false, successful: false});\r\n\r\n  // состояния карточек\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState({isOpen: false, element: {}});\r\n  const [selectedCardDeleteConfirm, setSelectedCardDeleteConfirm] = React.useState({isOpen: false, card: {}});\r\n\r\n  // состояние обработки запроса\r\n  const[renderSaving, setRenderSaving] = React.useState(false);\r\n\r\n  //состояния авторизации пользователя и его данных\r\n  const[loggedIn, setLoggedIn] = React.useState(false);\r\n  const[email, setEmail] = React.useState('');\r\n  \r\n\r\n\r\n  //---ЭФФЕКТЫ---\r\n  //при загрузке страницы получаем данные карточек\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }, []);\r\n\r\n  //при загрузке страницы получаем данные пользователя\r\n  React.useEffect(() => {\r\n    api.getUserData()\r\n      .then(data => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }, []);\r\n    \r\n  //при загрузке страницы проверяем токен и перенаправляем пользователя\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if(token){\r\n      auth.checkToken(token)\r\n        .then(data => {\r\n          if(data){\r\n            setEmail(data.data.email);\r\n            handleLoggedIn();\r\n            history.push('/');\r\n          }\r\n        })\r\n    }\r\n  }, [history]);\r\n    \r\n\r\n\r\n  //---ОБРАБОТЧИКИ---\r\n  function handleLoggedIn() {\r\n    setLoggedIn(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarClick(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfileClick(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlaceClick(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({...selectedCard, isOpen: true, element: card});\r\n  }\r\n  \r\n  function handleDeletePlaceClick(card) {\r\n    setSelectedCardDeleteConfirm({...selectedCardDeleteConfirm, isOpen: true, card: card});\r\n  }\r\n\r\n  function handleInfoTooltip(result) {\r\n    setInfoTooltip({...isInfoTooltip, isOpen: true, successful: result});\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarClick(false);\r\n    setEditProfileClick(false);\r\n    setAddPlaceClick(false);\r\n    setSelectedCard({...selectedCard, isOpen: false});\r\n    setSelectedCardDeleteConfirm({...selectedCardDeleteConfirm, isOpen: false});\r\n    setInfoTooltip(false);\r\n  }\r\n\r\n  function handleOverlayClickClose(evt) {\r\n    if (evt.target.classList.contains(\"popup\")) closeAllPopups();\r\n  }\r\n\r\n  //изменение данных пользователя\r\n  function handleUpdateUser(newUserData) {\r\n    setRenderSaving(true);\r\n    api.saveUserChanges(newUserData)\r\n      .then(data => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => setRenderSaving(false));\r\n  }\r\n\r\n  //изменение аватара пользователя\r\n  function handleUpdateAvatar(newAvatarLink) {\r\n    setRenderSaving(true);\r\n    api.changedAvatar(newAvatarLink)\r\n      .then(data => {\r\n        setCurrentUser({...currentUser, avatar: data.avatar});\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => setRenderSaving(false));\r\n  }\r\n\r\n  //добавление новой карточки\r\n  function handleAddPlaceSubmit(cardData) {\r\n    setRenderSaving(true);\r\n    api.postNewCard(cardData)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards]); \r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => setRenderSaving(false));\r\n  }\r\n\r\n  //постановка/снятие лайка\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then(newCard => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => console.log(err));\r\n  } \r\n\r\n  //удаление карточки\r\n  function handleCardDelete(card) {\r\n    setRenderSaving(true);\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id === card._id ? false : true);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => setRenderSaving(false));\r\n  } \r\n\r\n  //обработчик регистрации пользователя\r\n  function handleRegister(password, email){\r\n    auth.register(password, email)\r\n      .then(data => {\r\n        if(data){\r\n          handleInfoTooltip(true);\r\n          history.push('/sign-in');\r\n        } \r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        handleInfoTooltip(false);\r\n      })\r\n  }\r\n\r\n  //обработчик авторизации пользователя\r\n  function handleLogin (password, email) {\r\n    auth.login(password, email)\r\n      .then(data => {\r\n        if(data.token){\r\n          setEmail(email);\r\n          handleLoggedIn();\r\n          localStorage.setItem('token', data.token);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        handleInfoTooltip(false);\r\n        console.log(err);\r\n      })\r\n  }\r\n  \r\n  //обработчик выхода пользователя\r\n  function handleSignOut() {\r\n    localStorage.removeItem('token');\r\n    setLoggedIn(false);\r\n    setEmail('');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n\r\n\r\n  //---РАЗМЕТКА JSX---\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <div className=\"page\">\r\n      <Header email={email} onSignOut={handleSignOut} />\r\n\r\n      <Switch>\r\n        <ProtectedRoute\r\n          exact path='/'\r\n          loggedIn={loggedIn}\r\n          component={Main}\r\n          onEditProfile={handleEditProfileClick} \r\n          onAddPlace={handleAddPlaceClick} \r\n          onEditAvatar={handleEditAvatarClick} \r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onDeletePlace={handleDeletePlaceClick}\r\n        />\r\n          \r\n        <Route path=\"/sign-in\">\r\n          <Login onLogin={handleLogin}/>\r\n        </Route>\r\n\r\n        <Route path=\"/sign-up\">\r\n          <Register onRegister={handleRegister}/>\r\n        </Route>\r\n\r\n        <Route>\r\n          {loggedIn ? (\r\n            <Redirect to=\"/\" />\r\n          ) : (\r\n            <Redirect to=\"/sign-in\" />\r\n          )}\r\n        </Route>\r\n      </Switch>\r\n\r\n      <Footer />\r\n\r\n      <InfoTooltip result={isInfoTooltip} onClose={closeAllPopups} onOverlayClose={handleOverlayClickClose}/>\r\n\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} onOverlayClose={handleOverlayClickClose} />\r\n\r\n      <EditProfilePopup \r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onOverlayClose={handleOverlayClickClose}\r\n        onUpdateUser={handleUpdateUser}\r\n        isRender={renderSaving}\r\n      />\r\n\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onOverlayClose={handleOverlayClickClose}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        isRender={renderSaving}\r\n      /> \r\n\r\n      <AddPlacePopup \r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onOverlayClose={handleOverlayClickClose}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n        isRender={renderSaving}\r\n      />\r\n\r\n      <DeletePlacePopup\r\n        deleteCard={selectedCardDeleteConfirm}\r\n        onClose={closeAllPopups}\r\n        onOverlayClose={handleOverlayClickClose}\r\n        onDeleteCard={handleCardDelete}\r\n        isRender={renderSaving}\r\n      />     \r\n    </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}